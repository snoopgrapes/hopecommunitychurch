<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Dashboard ‚Äì Fruit of Freedom</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Vibrant theme (light) */
      --primary-color: #FF7E5D;
      --primary-hover: #E0694A;
      --background-color: #F7F9FC;
      --card-bg: #fff;
      --text-color: #2E2E2E;
      --progress-bg: #E3F2FD;
      --shadow-color: rgba(74, 144, 226, 0.2);
      --inspiration-color: #444;
      --footer-color: #777;
      --accent-blue: #4A90E2;
      --accent-green: #6BBF70;
      --accent-yellow: #FFD166;
      --accent-purple: #A05CFF;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      background-color: var(--background-color);
      margin: 0;
      padding: 0;
      color: var(--text-color);
      transition: background-color 0.3s ease, color 0.3s ease;
      padding-top: 80px;
    }

    /* Header/Navbar Styles */
    header {
      background-color: #FFFFFF;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      z-index: 100;
      box-shadow: 0 2px 20px rgba(0,0,0,0.1);
      padding: 0.7rem;
      box-sizing: border-box;
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      height: 100%;
    }

    .logo-container img {
      max-width: 135px;
      height: auto;
      transition: transform 0.3s;
    }

    .logo-container img:hover {
      transform: scale(1.05);
    }

    /* Navigation styles */
    nav {
      display: flex;
      transition: all 0.3s ease;
      align-items: center;
    }

    nav a {
      color: #333;
      margin: 0 1rem;
      text-decoration: none;
      font-weight: 600;
      position: relative;
      transition: color 0.3s;
    }

    nav a:hover {
      color: var(--primary-color);
    }

    nav a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 3px;
      background: var(--primary-color);
      transition: width 0.3s;
    }

    nav a:hover::after {
      width: 100%;
    }

    /* Dashboard styles */
    .dashboard {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    h2 {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: var(--text-color);
    }

    .progress-section {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 2rem;
      box-shadow: 0 1px 6px var(--shadow-color);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .progress-bar {
      background-color: var(--progress-bg);
      height: 20px;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 10px;
      transition: background-color 0.3s ease;
    }

    .progress-bar-inner {
      width: 50%;
      height: 100%;
      background-color: var(--primary-color);
      text-align: center;
      color: white;
      font-size: 0.8rem;
      line-height: 20px;
      transition: background-color 0.3s ease;
    }

    .cards {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
    }

    .card {
      flex: 1 1 300px;
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 1px 6px var(--shadow-color);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .card::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-blue), var(--accent-green));
    }

    .card h4 {
      margin-top: 0;
      color: var(--text-color);
    }

    .card p {
      margin-bottom: 1rem;
      color: var(--text-color);
    }

    .btn {
      display: inline-block;
      background-color: var(--primary-color);
      color: white;
      padding: 0.6rem 1.4rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .btn:hover {
      background-color: var(--primary-hover);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .daily-devotional-card {
      flex: 1 1 100%;
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 1px 6px var(--shadow-color);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
      margin-top: 1rem;
    }

    .daily-devotional-card::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-purple), var(--accent-yellow), var(--accent-green));
    }

    .daily-devotional-content {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .daily-devotional-text {
      flex: 1;
    }

    .daily-devotional-icon {
      font-size: 3rem;
      color: var(--accent-purple);
    }

    .inspiration {
      text-align: center;
      margin-top: 3rem;
      padding: 2rem 1rem;
      font-style: italic;
      color: var(--inspiration-color);
      transition: color 0.3s ease;
    }

    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      color: var(--footer-color);
      transition: color 0.3s ease;
    }

    /* Mobile Menu */
    .menu-toggle {
      display: none;
      flex-direction: column;
      justify-content: space-between;
      width: 30px;
      height: 21px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
      z-index: 101;
    }

    .menu-toggle span {
      display: block;
      width: 100%;
      height: 3px;
      background: #333;
      transition: all 0.3s ease;
    }

    .menu-toggle.active span:nth-child(1) {
      transform: translateY(9px) rotate(45deg);
    }

    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
      transform: translateY(-9px) rotate(-45deg);
    }

    /* Mobile view */
    @media (max-width: 768px) {
      body {
        padding-top: 60px;
      }

      header {
        height: 60px;
        padding: 0;
      }

      .header-container {
        padding: 1rem;
      }

      .menu-toggle {
        display: flex;
      }

      nav {
        position: fixed;
        top: 60px;
        right: -100%;
        width: 70%;
        height: calc(100vh - 60px);
        background: white;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 2rem;
        box-shadow: -5px 0 15px rgba(0,0,0,0.1);
        z-index: 100;
      }

      nav.active {
        right: 0;
      }

      nav a {
        margin: 1rem 0;
        font-size: 1.2rem;
      }

      .logo-container img {
        max-width: 100px;
      }

      .cards {
        flex-direction: column;
      }

      .daily-devotional-content {
        flex-direction: column;
        text-align: center;
      }

      .daily-devotional-icon {
        margin-bottom: 1rem;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="header-container">
    <div class="logo-container">
      <a href="index.html">
        <img src="images/HFR.png" alt="Hope For Recovery Logo">
      </a>
    </div>

    <button class="menu-toggle" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav>
      <a href="index.html">Home</a>
      <a href="#">About</a>
      <a href="#">Fruit of Freedom</a>
      <a href="journey.html">Join</a>
      <a href="#">Partners</a>
      <a href="local-program.html">Recovery Program</a>
    </nav>
  </div>
</header>

<div class="dashboard">
  <h1>Welcome Back, <span id="userFirstName">Friend</span>!</h1>
  <p>Your journey to freedom continues. Keep going!</p>

  <section class="progress-section">
    <h2>Course Progress</h2>
    <p>You've completed 6 out of 12 weeks</p>
    <div class="progress-bar">
      <div class="progress-bar-inner">50%</div>
    </div>
  </section>

		<!-- In dashboard.html, replace the Current Week card with this: -->
		<div class="card">
		<h4>üìñ Current Week: <span id="currentWeekTitle">Loading...</span></h4>
		<p id="currentWeekDescription">Loading your current week progress...</p>
		<div class="progress-bar" style="height: 10px; margin: 10px 0;">
			<div class="progress-bar-inner" id="weekProgress" style="width: 0%;"></div>
		</div>
		<a href="./workbooks/Holistic Health.html" class="btn" id="weekBtn">Go to Current Week</a>
		</div>

    <div class="card">
      <h4>üß† Memory Verse Quiz</h4>
      <p>"Be completely humble and gentle; be patient, bearing with one another in love." <br><em>‚Äì Ephesians 4:2</em></p>
      <a href="Bible Memory Verse Quiz.html" class="btn">Review & Memorize</a>
    </div>

    <div class="card">
      <h4>üìù Your Journal</h4>
      <p>Record how God is working in your life this week. Reflect on growth or struggles.</p>
      <a href="journal.html" class="btn">Open Journal</a>
    </div>

    <div class="card">
      <h4>üìÜ View Past Weeks</h4>
      <p>Revisit previous fruits or complete missed weeks at your pace.</p>
      <a href="#" class="btn">View Timeline</a>
    </div>

    <!-- New Daily Devotional Card -->
    <div class="daily-devotional-card">
      <div class="daily-devotional-content">
        <div class="daily-devotional-icon">üìñ</div>
        <div class="daily-devotional-text">
          <h4>Daily Word of Encouragement</h4>
          <p>"The Lord is my strength and my shield; my heart trusts in him, and he helps me." <em>‚Äî Psalm 28:7</em></p>
          <p>Start your day with God's word and find strength for your journey.</p>
          <a href="devotional.html" class="btn">Read Today's Devotional</a>
        </div>
      </div>
    </div>
  </div>

  <div class="inspiration">
    "The Spirit of God who raised Jesus from the dead lives in you." ‚Äî Romans 8:11
  </div>
</div>

<footer>
  ¬© 2025 Fruit of Freedom | All rights reserved.
</footer>

<script type="module">
  // Mobile menu toggle
  const menuToggle = document.querySelector('.menu-toggle');
  const nav = document.querySelector('nav');

  if (menuToggle && nav) {
    menuToggle.addEventListener('click', () => {
      menuToggle.classList.toggle('active');
      nav.classList.toggle('active');
    });

    // Close menu when clicking links
    document.querySelectorAll('nav a').forEach(link => {
      link.addEventListener('click', () => {
        menuToggle.classList.remove('active');
        nav.classList.remove('active');
      });
    });
  }
</script>

<script>
// Track user progress through Holistic Health workbook
document.addEventListener('DOMContentLoaded', function() {
  // Get user progress from localStorage or set defaults
  const userProgress = JSON.parse(localStorage.getItem('holisticHealthProgress')) || {
    currentWeek: 1,
    completedWeeks: [],
    lastAccessed: null
  };

  // Update dashboard with current progress
  updateDashboard(userProgress);

  // Set user first name if available
  const userName = localStorage.getItem('userFirstName') || 'Friend';
  document.getElementById('userFirstName').textContent = userName;
});

function updateDashboard(progress) {
  const weekTitles = [
    "Introduction to Holistic Health",
    "Spirit, Soul & Body",
    "Physical Health",
    "Emotional Health",
    "Personal Reflection",
    "Living in the Moment",
    "Gratitude is the Best Attitude",
    "Mental Health",
    "Spiritual Health",
    "Awareness vs Awakening",
    "Case Study - John's Story",
    "Final Assessment"
  ];

  const weekDescriptions = [
    "Introduction to the four health components and their importance",
    "Exploring the purpose of spirit, soul and body",
    "Understanding and improving physical health",
    "Managing emotions for a happier life",
    "Reflecting on our emotional state and its causes",
    "The principle of living in the present",
    "How gratitude improves our mindset",
    "Understanding and improving mental health",
    "Exploring and nurturing spiritual health",
    "Spirituality: awareness vs awakening",
    "Applying concepts to a real-life scenario",
    "Final evaluation of your holistic health journey"
  ];

  // Update current week display
  const currentWeekIndex = progress.currentWeek - 1;
  document.getElementById('currentWeekTitle').textContent = `Week ${progress.currentWeek}: ${weekTitles[currentWeekIndex]}`;
  document.getElementById('currentWeekDescription').textContent = weekDescriptions[currentWeekIndex];
  
  // Update progress bar
  const progressPercent = (progress.completedWeeks.length / 12) * 100;
  document.getElementById('weekProgress').style.width = `${progressPercent}%`;
  document.getElementById('weekProgress').textContent = `${Math.round(progressPercent)}%`;
  
  // Update course progress section
  document.querySelector('.progress-section p').textContent = 
    `You've completed ${progress.completedWeeks.length} out of 12 weeks`;
  
  // Update button to go to current week
  const weekBtn = document.getElementById('weekBtn');
  weekBtn.href = `./workbooks/Holistic Health.html#week${progress.currentWeek}`;
  
  // If all weeks completed, update button text
  if (progress.completedWeeks.length === 12) {
    weekBtn.textContent = 'Review Course';
  }
}
</script>
</body>
</html>